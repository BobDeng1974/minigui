	AREA |DATA|,CODE,READONLY	ENTRYRST		;;INIT THE ISR TABLE	LDR R0,=ISR_TABLE	MOV R1,#16	LDR R2,=0x00000000CPY_ISRT	SUB R1,R1,#1	LDR R3,[R0,#0]	STR R3,[R2,#0]	ADD R0,R0,#4	ADD R2,R2,#4	CMP R1,#0	BNE CPY_ISRT		;SWITCH TO IRQ MODE	MSR CPSR_c,#0xD2   ;110  10010	;512BYTES FOR IRQ STACK	LDR R13,=0x200	;RETURN TO USER MODE	MSR CPSR_c,#0x10    ;000  10000				;LDR R2,[R1],#4   	;STR R2,[R0],#4	;LDR R6,=0xFFFFFF3F	;MRS R5,CPSR	;AND R5,R5,R6	;MSR CPSR_c,R5				;;use 4K-512BYTES SRAM as user stack	LDR R13,=0x1000	IMPORT Main	B Main	ISR_TABLE	IMPORT HaltUndef	IMPORT HaltSwi	IMPORT HaltPabort	IMPORT HaltDabort	IMPORT IRQ_ISR	IMPORT FIQ_ISR	       LDR     PC, Reset_Addr                         LDR     PC, Undef_Addr                LDR     PC, SWI_Addr                LDR     PC, PAbt_Addr                LDR     PC, DAbt_Addr                NOP                            ; Reserved Vector                 LDR     PC, IRQ_Addr                LDR     PC, FIQ_AddrReset_Addr      DCD     RSTUndef_Addr      DCD     HaltUndefSWI_Addr        DCD     HaltSwiPAbt_Addr       DCD     HaltPabortDAbt_Addr       DCD     HaltDabort;                DCD     0                      ; Reserved Address IRQ_Addr        DCD     IRQ_ISRFIQ_Addr        DCD     FIQ_ISR               		END